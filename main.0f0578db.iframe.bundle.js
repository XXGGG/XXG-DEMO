(self.webpackChunkvuecli_storybook=self.webpackChunkvuecli_storybook||[]).push([[179],{"./node_modules/@storybook/builder-webpack5/node_modules/css-loader/dist/cjs.js??clonedRuleSet-10.use[1]!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/vue-loader/dist/index.js??ruleSet[0]!./src/components/FollowMouseMove.vue?vue&type=style&index=0&id=0356342b&scoped=true&lang=css":function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/css-loader/dist/runtime/cssWithMappingToString.js"),_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,"\n*[data-v-0356342b] {\r\n  padding: 0;\r\n  margin: 0;\r\n  user-select: none;\n}\n.area[data-v-0356342b] {\r\n  user-select: none;\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #8f8f8f7d;\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  top:0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  /* background-color: #222; */\r\n  background-color: rgba(34, 34, 34, 0);\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-evenly;\r\n  align-items: center;\r\n  overflow: hidden;\n}\n.box[data-v-0356342b] {\r\n  width: 100px;\r\n  height: 100px;\r\n  position: absolute;\r\n  border-radius: 10px;\r\n  cursor: pointer;\n}\n.box[data-v-0356342b]::after {\r\n  content: '';\r\n  display: block;\r\n  width: 100px;\r\n  height: 100px;\r\n  border-radius: 12px;\r\n  background-color: #cf4b6f;\r\n  box-shadow: 0px 0px 20px -6px #cf4b6f;\r\n  box-sizing: border-box;\n}\n.box[data-v-0356342b]:active::after {\r\n  box-shadow: 0px 0px 20px -6px #cf4b6f;\r\n  transform: scale(0.9);\r\n  transition: transform 0.5s;\r\n  -moz-transition: transform 0.5s;\r\n  -webkit-transition: transform 0.5s;\r\n  -o-transition: transform 0.5s;\n}\r\n","",{version:3,sources:["webpack://./src/components/FollowMouseMove.vue"],names:[],mappings:";AA8FA;EACE,UAAU;EACV,SAAS;EACT,iBAAiB;AACnB;AAEA;EACE,iBAAiB;EACjB,iDAAiD;EACjD,mCAAmC;EACnC,kCAAkC;EAClC,kBAAkB;EAClB,gBAAgB;EAChB,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,KAAK;EACL,OAAO;EACP,QAAQ;EACR,SAAS;EACT,4BAA4B;EAC5B,qCAAqC;EACrC,aAAa;EACb,sBAAsB;EACtB,6BAA6B;EAC7B,mBAAmB;EACnB,gBAAgB;AAClB;AAEA;EACE,YAAY;EACZ,aAAa;EACb,kBAAkB;EAClB,mBAAmB;EACnB,eAAe;AACjB;AAGA;EACE,WAAW;EACX,cAAc;EACd,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,yBAAyB;EACzB,qCAAqC;EACrC,sBAAsB;AACxB;AAEA;EACE,qCAAqC;EACrC,qBAAqB;EACrB,0BAA0B;EAC1B,+BAA+B;EAC/B,kCAAkC;EAClC,6BAA6B;AAC/B",sourcesContent:['<template>\r\n  <div class="area" @mouseleave="mouseleave">\r\n    <h1>移动这个小方块！</h1>\r\n    <div id="box" class="box" @touchstart="touchstart" @mousedown.left="mousedown" @touchend="touchend"\r\n      @mouseup="mouseup"></div>\r\n    <h1>（ {{ X }} , {{ Y }} ）</h1>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang="ts">\r\nimport { ref } from \'vue\';\r\n\r\nlet move:any = null\r\nlet WT_W:any = null\r\nlet WT_H:any = null\r\nlet CK_X = null\r\nlet CK_Y = null\r\n\r\nlet moveing = 0\r\n\r\nlet X = ref(0)\r\nlet Y = ref(0)\r\nconst mousedown = (box:any) => { //在鼠标点下的时候抓紧 移动\r\n  WT_W = box.target.clientWidth\r\n  WT_H = box.target.clientWidth\r\n  move = (e:any) => {\r\n    CK_X = e.view.innerWidth\r\n    CK_Y = e.view.innerHeight\r\n    let left = e.clientX\r\n    let top = e.clientY\r\n    let boxSeatX = left - box.layerX\r\n    let boxSeatY = top - box.layerY\r\n    if (boxSeatX < 0) boxSeatX = 0 //当：box的x点小于窗口的 横方向x \r\n    if (boxSeatX > (CK_X - WT_W)) boxSeatX = CK_X - WT_W//当：box的x点大于 【窗口-物体宽度】的方向 \r\n    if (boxSeatY < 0) boxSeatY = 0\r\n    if (boxSeatY > (CK_Y - WT_H)) boxSeatY = CK_Y - WT_H//当：box的x点大于 【窗口-物体宽度】的方向 \r\n    box.target.style.left = boxSeatX + "px";\r\n    box.target.style.top = boxSeatY + "px";\r\n\r\n    X.value = boxSeatX\r\n    Y.value = boxSeatY\r\n  }\r\n  window.addEventListener(\'mousemove\', move)\r\n  moveing = 1\r\n}\r\n\r\nconst mouseup = () => {  //松开鼠标的时候 取消监听\r\n  console.log("取消监听")\r\n  window.removeEventListener(\'mousemove\', move)\r\n  moveing = 0\r\n}\r\n\r\nconst mouseleave = () => { //离开外框框的时候\r\n  if (moveing == 1) {\r\n    console.log("取消监听")\r\n    window.removeEventListener(\'mousemove\', move)\r\n    moveing = 0\r\n  }\r\n}\r\nwindow.onresize = function () {\r\n  console.log("窗口变化了！")\r\n  mouseleave();\r\n  let box:any = document.getElementById("box");\r\n  box.style.left = "calc(50% - 50px)";\r\n  box.style.top = "calc(50% - 50px)";\r\n}\r\n\r\n\r\n// 以下是触摸拖拽\r\nlet touch:any = null\r\nconst touchstart = (box:any) => {\r\n  touch = (e:any) => {\r\n    console.log(e.targetTouches[0].pageX)\r\n    console.log(e.targetTouches[0].pageY)\r\n    console.log(e)\r\n    let left = e.targetTouches[0].pageX\r\n    let top = e.targetTouches[0].pageY\r\n    let boxSeatX = left - box.layerX\r\n    let boxSeatY = top - box.layerY\r\n    box.target.style.left = boxSeatX + "px";\r\n    box.target.style.top = boxSeatY + "px";\r\n\r\n    X.value = boxSeatX\r\n    Y.value = boxSeatY\r\n  }\r\n  window.addEventListener(\'touchmove\', touch)\r\n}\r\n\r\nconst touchend = () => {\r\n  window.removeEventListener(\'touchmove\', touch)\r\n}\r\n<\/script>\r\n\r\n<style scoped>\r\n* {\r\n  padding: 0;\r\n  margin: 0;\r\n  user-select: none;\r\n}\r\n\r\n.area {\r\n  user-select: none;\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #8f8f8f7d;\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  top:0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  /* background-color: #222; */\r\n  background-color: rgba(34, 34, 34, 0);\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-evenly;\r\n  align-items: center;\r\n  overflow: hidden;\r\n}\r\n\r\n.box {\r\n  width: 100px;\r\n  height: 100px;\r\n  position: absolute;\r\n  border-radius: 10px;\r\n  cursor: pointer;\r\n}\r\n\r\n\r\n.box::after {\r\n  content: \'\';\r\n  display: block;\r\n  width: 100px;\r\n  height: 100px;\r\n  border-radius: 12px;\r\n  background-color: #cf4b6f;\r\n  box-shadow: 0px 0px 20px -6px #cf4b6f;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.box:active::after {\r\n  box-shadow: 0px 0px 20px -6px #cf4b6f;\r\n  transform: scale(0.9);\r\n  transition: transform 0.5s;\r\n  -moz-transition: transform 0.5s;\r\n  -webkit-transition: transform 0.5s;\r\n  -o-transition: transform 0.5s;\r\n}\r\n</style>\r\n'],sourceRoot:""}]),__webpack_exports__.Z=___CSS_LOADER_EXPORT___},"./.storybook/preview.js-generated-config-entry.js":function(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__){"use strict";var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,{__namedExportsOrder:function(){return __namedExportsOrder},parameters:function(){return parameters}});var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}}},__namedExportsOrder=["parameters"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":return(0,ClientApi.uc)(value);case"argTypes":return(0,ClientApi.v9)(value);case"decorators":return value.forEach((function(decorator){return(0,ClientApi.$9)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return(0,ClientApi.HZ)(loader,!1)}));case"parameters":return(0,ClientApi.h1)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return(0,ClientApi.My)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return(0,ClientApi._C)(enhancer)}));case"render":return(0,ClientApi.$P)(value);case"globals":case"globalTypes":var v={};return v[key]=value,(0,ClientApi.h1)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./src/stories/FollowMouseMove.stories.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{XXG_FollowMouseMove:function(){return XXG_FollowMouseMove},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return FollowMouseMove_stories}});var vue_esm_bundler=__webpack_require__("./node_modules/vue/dist/vue.esm-bundler.js"),_hoisted_1=function(n){return(0,vue_esm_bundler.pushScopeId)("data-v-0356342b"),n=n(),(0,vue_esm_bundler.popScopeId)(),n}((function(){return(0,vue_esm_bundler.createElementVNode)("h1",null,"移动这个小方块！",-1)})),_hoisted_2=["onMousedown"],FollowMouseMovevue_type_script_setup_true_lang_ts=(0,vue_esm_bundler.defineComponent)({__name:"FollowMouseMove",setup:function(__props){var move=null,WT_W=null,WT_H=null,CK_X=null,CK_Y=null,moveing=0,X=(0,vue_esm_bundler.ref)(0),Y=(0,vue_esm_bundler.ref)(0),mousedown=function(box){WT_W=box.target.clientWidth,WT_H=box.target.clientWidth,move=function(e){CK_X=e.view.innerWidth,CK_Y=e.view.innerHeight;var left=e.clientX,top=e.clientY,boxSeatX=left-box.layerX,boxSeatY=top-box.layerY;boxSeatX<0&&(boxSeatX=0),boxSeatX>CK_X-WT_W&&(boxSeatX=CK_X-WT_W),boxSeatY<0&&(boxSeatY=0),boxSeatY>CK_Y-WT_H&&(boxSeatY=CK_Y-WT_H),box.target.style.left=boxSeatX+"px",box.target.style.top=boxSeatY+"px",X.value=boxSeatX,Y.value=boxSeatY},window.addEventListener("mousemove",move),moveing=1},mouseup=function(){console.log("取消监听"),window.removeEventListener("mousemove",move),moveing=0},mouseleave=function(){1==moveing&&(console.log("取消监听"),window.removeEventListener("mousemove",move),moveing=0)};window.onresize=function(){console.log("窗口变化了！"),mouseleave();var box=document.getElementById("box");box.style.left="calc(50% - 50px)",box.style.top="calc(50% - 50px)"};var touch=null,touchstart=function(box){touch=function(e){console.log(e.targetTouches[0].pageX),console.log(e.targetTouches[0].pageY),console.log(e);var left=e.targetTouches[0].pageX,top=e.targetTouches[0].pageY,boxSeatX=left-box.layerX,boxSeatY=top-box.layerY;box.target.style.left=boxSeatX+"px",box.target.style.top=boxSeatY+"px",X.value=boxSeatX,Y.value=boxSeatY},window.addEventListener("touchmove",touch)},touchend=function(){window.removeEventListener("touchmove",touch)};return function(_ctx,_cache){return(0,vue_esm_bundler.openBlock)(),(0,vue_esm_bundler.createElementBlock)("div",{class:"area",onMouseleave:mouseleave},[_hoisted_1,(0,vue_esm_bundler.createElementVNode)("div",{id:"box",class:"box",onTouchstart:touchstart,onMousedown:(0,vue_esm_bundler.withModifiers)(mousedown,["left"]),onTouchend:touchend,onMouseup:mouseup},null,40,_hoisted_2),(0,vue_esm_bundler.createElementVNode)("h1",null,"（ "+(0,vue_esm_bundler.toDisplayString)((0,vue_esm_bundler.unref)(X))+" , "+(0,vue_esm_bundler.toDisplayString)((0,vue_esm_bundler.unref)(Y))+" ）",1)],32)}}}),injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),FollowMouseMovevue_type_style_index_0_id_0356342b_scoped_true_lang_css=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/css-loader/dist/cjs.js??clonedRuleSet-10.use[1]!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/vue-loader/dist/index.js??ruleSet[0]!./src/components/FollowMouseMove.vue?vue&type=style&index=0&id=0356342b&scoped=true&lang=css"),options={insert:"head",singleton:!1};injectStylesIntoStyleTag_default()(FollowMouseMovevue_type_style_index_0_id_0356342b_scoped_true_lang_css.Z,options),FollowMouseMovevue_type_style_index_0_id_0356342b_scoped_true_lang_css.Z.locals;const __exports__=(0,__webpack_require__("./node_modules/vue-loader/dist/exportHelper.js").Z)(FollowMouseMovevue_type_script_setup_true_lang_ts,[["__scopeId","data-v-0356342b"]]);var FollowMouseMove=__exports__;__exports__.__docgenInfo={exportName:"default",displayName:"FollowMouseMove",description:"",tags:{}};var FollowMouseMove_stories={title:"鼠标拖拽物体",component:FollowMouseMove},XXG_FollowMouseMove=function(){return{components:{FollowMouseMove:FollowMouseMove},setup:function(){},template:"<FollowMouseMove />"}};XXG_FollowMouseMove.storyName="鼠标拖拽物体",XXG_FollowMouseMove.parameters=Object.assign({storySource:{source:"() => ({\n  components: { FollowMouseMove },\n  setup() {\n  },\n  template: '<FollowMouseMove />',\n})"}},XXG_FollowMouseMove.parameters);var __namedExportsOrder=["XXG_FollowMouseMove"]},"./storybook-init-framework-entry.js":function(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/@storybook/vue3/dist/esm/client/index.js")},"./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$":function(module,__unused_webpack_exports,__webpack_require__){var map={"./stories/FollowMouseMove.stories.js":"./src/stories/FollowMouseMove.stories.js"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$"},"./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$":function(module){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$",module.exports=webpackEmptyContext},"?4f7e":function(){},"./generated-stories-entry.cjs":function(module,__unused_webpack_exports,__webpack_require__){"use strict";module=__webpack_require__.nmd(module),(0,__webpack_require__("./node_modules/@storybook/vue3/dist/esm/client/index.js").configure)([__webpack_require__("./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$"),__webpack_require__("./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$")],module,!1)}},function(__webpack_require__){var __webpack_exec__=function(moduleId){return __webpack_require__(__webpack_require__.s=moduleId)};__webpack_require__.O(0,[714],(function(){return __webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_exec__("./storybook-init-framework-entry.js"),__webpack_exec__("./node_modules/@storybook/vue3/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/vue3/dist/esm/client/docs/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-links/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-docs/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-actions/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-backgrounds/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-measure/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-outline/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-interactions/preview.js-generated-config-entry.js"),__webpack_exec__("./.storybook/preview.js-generated-config-entry.js"),__webpack_exec__("./generated-stories-entry.cjs")}));__webpack_require__.O()}]);